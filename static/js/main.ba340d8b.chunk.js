(this["webpackJsonpneed_for_drive-admin"]=this["webpackJsonpneed_for_drive-admin"]||[]).push([[0],Array(32).concat([function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(17),a=n.n(c),s=n(3),i=n(20),o=n(2),l="LOGIN_CHANGE_EMAIL_TEXT",u="LOGIN_CHANGE_PASSWORD_TEXT",d="LOGIN_SET_EMAIL_ERROR",j="LOGIN_SET_PASSWORD_ERROR",b="LOGIN_SET_IS_NO_REGISTER",p="LOGIN_SET_IS_AUTH_ERROR",h="USER_LOGIN",O="USER_CHECK",m="USER_LOGOUT",f="REQUEST_ERROR_SET_ERROR",_="REQUEST_ERROR_UNSET_ERROR",v="ORDERS_SET_ORDERS",x="ORDERS_SET_FILTERED_ORDERS",g="PAGINATION_SET_ACTIVE_PAGE",y="PAGINATION_SET_COUNT_PAGES",N="PAGINATION_SET_NEXT_PAGE",E="PAGINATION_SET_PREV_PAGE",w="ORDER_SET_ORDER",S="ORDER_SET_ADDITIONAL_OPTION",C="ORDER_SET_STATUS",R="POPUP_SET_POPUP",I="POPUP_UNSET_POPUP",k="ENTITIES_SET_STATUSES",T="ENTITIES_SET_CARS",P="ENTITIES_SET_CITIES",V={email:{emailValue:"",isEmailError:!1},password:{passwordValue:"",isPasswordError:!1},isNoRegister:!1,isAuthError:!1},A={isLogged:!1,name:""},L={isError:!1,errorStatus:""},D={orders:null,visibleOrders:null},H={currentPage:1,pagesCount:1},F={order:{}},G={statuses:[],cars:[],cities:[]},M={isPopup:!1,isSuccess:!1,text:""},U=Object(i.a)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(o.a)(Object(o.a)({},e),{},{email:Object(o.a)(Object(o.a)({},e.email),{},{emailValue:t.payload})});case d:return Object(o.a)(Object(o.a)({},e),{},{email:Object(o.a)(Object(o.a)({},e.email),{},{isEmailError:t.payload})});case u:return Object(o.a)(Object(o.a)({},e),{},{password:Object(o.a)(Object(o.a)({},e.password),{},{passwordValue:t.payload})});case j:return Object(o.a)(Object(o.a)({},e),{},{password:Object(o.a)(Object(o.a)({},e.password),{},{isPasswordError:t.payload})});case b:return Object(o.a)(Object(o.a)({},e),{},{isNoRegister:t.payload});case p:return Object(o.a)(Object(o.a)({},e),{},{isAuthError:t.payload});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(o.a)(Object(o.a)({},e),{},{isLogged:!0});case O:return Object(o.a)(Object(o.a)({},e),{},{isLogged:!0,name:t.payload});case m:return A;default:return e}},requestError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(o.a)(Object(o.a)({},e),{},{isError:!0,errorStatus:t.payload});case _:return L;default:return e}},orders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(o.a)(Object(o.a)({},e),{},{orders:t.payload});case x:return Object(o.a)(Object(o.a)({},e),{},{visibleOrders:t.payload});default:return e}},pagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.payload});case y:return Object(o.a)(Object(o.a)({},e),{},{pagesCount:t.payload});case N:return Object(o.a)(Object(o.a)({},e),{},{currentPage:e.currentPage===e.pagesCount?e.pagesCount:e.currentPage+1});case E:return Object(o.a)(Object(o.a)({},e),{},{currentPage:1===e.currentPage?1:e.currentPage-1});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(o.a)(Object(o.a)({},e),{},{order:t.payload});case S:var n={};return Object.keys(e.order).forEach((function(r){r===t.payload&&(n[t.payload]=!e.order[r])})),Object(o.a)(Object(o.a)({},e),{},{order:Object(o.a)(Object(o.a)({},e.order),n)});case C:return Object(o.a)(Object(o.a)({},e),{},{order:Object(o.a)(Object(o.a)({},e.order),{},{orderStatusId:t.payload})});default:return e}},entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(o.a)(Object(o.a)({},e),{},{statuses:t.payload});case T:return Object(o.a)(Object(o.a)({},e),{},{cars:t.payload});case P:return Object(o.a)(Object(o.a)({},e),{},{cities:t.payload});default:return e}},popup:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(o.a)(Object(o.a)({},e),{},{isPopup:!0,isSuccess:t.payload.isSuccess,text:t.payload.text});case I:return M;default:return e}}}),Z=Object(i.b)(U),B=(n(32),n(8)),K=n(5),W=function(e){return{type:O,payload:e}},q=n(6),J=n.n(q),X=function(e){return{type:d,payload:e}},z=function(e){return{type:j,payload:e}},Q=function(e){return{type:b,payload:e}},Y=function(e){return{type:p,payload:e}},$=(n(33),n(0));function ee(e){var t=e.type,n=e.inputValue,r=e.setInputValue,c=e.label,a=e.placeholder,s=e.isError,i=e.setIsError,o=J()("input_field__value",{is_error:s}),l=J()("input_field__error",{active:s});return Object($.jsxs)("div",{className:"input_field",children:[Object($.jsx)("label",{htmlFor:"input_".concat(c),children:c}),Object($.jsxs)("div",{className:o,children:[Object($.jsx)("input",{type:t,name:c,id:"input_".concat(c),placeholder:a,value:n,onChange:function(e){return t=e.target.value,r(t),void(t.length&&i&&i(!1));var t}}),Object($.jsx)("div",{className:l,children:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"})]})]})}ee.defaultProps={type:"",inputValue:"",setInputValue:null,label:"",placeholder:"",isError:!1,setIsError:null};var te=ee,ne=n(19);n(35);function re(e){var t=e.type,n=e.title,r=e.color,c=e.location,a=e.onclick,s=J()("btn","btn--".concat(c),Object(ne.a)({},"btn--".concat(r),r));return Object($.jsx)("input",{type:t,value:n,className:s,onClick:a})}re.defaultProps={type:"",title:"",color:"",location:"",onclick:null};var ce=re;n(36);var ae=function(){var e=Object(s.c)((function(e){return e.login})).isNoRegister,t=Object(s.b)(),n=J()("login_form__register_error",{active:e});return Object(r.useEffect)((function(){e&&setTimeout((function(){t(Q(!1))}),2e3)}),[e]),Object($.jsxs)("div",{children:[Object($.jsx)("a",{href:"#!",className:"login_form__register",onClick:function(e){e.preventDefault(),t(Q(!0))},children:"\u0417\u0430\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f"}),Object($.jsx)("div",{className:n,children:"\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430..."})]})},se=n(7),ie=n.n(se),oe=n(14),le="4cbcea96de",ue="https://api-factory.simbirsoft1.com",de="".concat(ue,"/api/auth/login"),je="".concat(ue,"/api/auth/check"),be=("".concat(ue,"/api/auth/logout"),"".concat(ue,"/api/db")),pe="".concat(be,"/order"),he="orderStatus",Oe={"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"},me="QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm1234567890",fe=[{title:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f",path:"/admin/cars/:id",img:Object($.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object($.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3213 2.10853C11.5596 2.34683 11.5596 2.73177 11.3213 2.97007L10.2031 4.08825L7.91174 1.7969L9.02992 0.678725C9.26822 0.440425 9.65317 0.440425 9.89147 0.678725L11.3213 2.10853ZM0.5 11.5V9.20865L7.25795 2.4507L9.5493 4.74205L2.79135 11.5H0.5Z",fill:"#007BFF"})})},{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0430\u0432\u0442\u043e",path:"/admin/cars",img:Object($.jsx)("svg",{width:"13",height:"10",viewBox:"0 0 13 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object($.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 0.5V1.85714H5.83333V0.5H0.5ZM5.83333 4.57142H0.5V3.21428H5.83333V4.57142ZM0.5 7.28572H5.83333V5.92857H0.5V7.28572ZM0.5 10H5.83333V8.64285H0.5V10ZM12.5 0.5H7.16663V10H12.5V0.5Z",fill:"#CACEDB"})})},{title:"\u0417\u0430\u043a\u0430\u0437\u044b",path:"/admin/orders",img:Object($.jsx)("svg",{width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object($.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 0H1.5C0.95 0 0.505 0.45 0.505 1L0.5 9C0.5 9.55 0.945 10 1.495 10H7.5C8.05 10 8.5 9.55 8.5 9V3L5.5 0ZM6.5 7H5V8.5H4V7H2.5V6H4V4.5H5V6H6.5V7ZM5 0.75V3.5H7.75L5 0.75Z",fill:"#CACEDB"})})}],_e=Date.now(),ve=864e5,xe=[{name:"\u0417\u0430 \u043d\u0435\u0434\u0435\u043b\u044e",dateFrom:_e-6048e5},{name:"\u0417\u0430 \u043c\u0435\u0441\u044f\u0446",dateFrom:_e-2592e6},{name:"\u0417\u0430 \u0433\u043e\u0434",dateFrom:_e-31536e6},{name:"\u0417\u0430 \u0441\u0443\u0442\u043a\u0438",dateFrom:_e-ve}],ge=[1,2,3,4,5];function ye(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t="";t.length<=e;)t+=me[Math.floor(Math.random()*me.length)];return t}var Ne=new URLSearchParams;function Ee(e,t){var n=t.headers?Object(o.a)(Object(o.a)({},t.headers),e):e;return Object(o.a)(Object(o.a)({},t),{},{headers:n})}var we=function(){var e=Object(oe.a)(ie.a.mark((function e(t){var n,r,c,a,s=arguments;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r=Ee(Oe,n),e.prev=2,e.next=5,fetch(t,r);case 5:c=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),console.error("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c: ",e.t0),e.abrupt("return",Promise.reject(new Error(e.t0.message)));case 12:if(c.ok){e.next=17;break}return e.next=15,c.text();case 15:return a=e.sent,e.abrupt("return",Promise.reject({httpStatus:c.status,httpText:a}));case 17:return e.abrupt("return",c.json());case 18:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=localStorage.getItem("access_token");return{Authorization:"Bearer ".concat(e)}};function Ce(){return(Ce=Object(oe.a)(ie.a.mark((function e(t,n){var r,c,a,s;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ye(5,!0),c=window.btoa("".concat(r,":").concat(le)),a={headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(c)},body:JSON.stringify({username:t,password:n}),method:"POST"},e.next=5,we(de,a);case 5:return s=e.sent,e.abrupt("return",{access_token:s.access_token,refresh_token:s.refresh_token});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(){return Ie.apply(this,arguments)}function Ie(){return(Ie=Object(oe.a)(ie.a.mark((function e(){var t,n;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:Se()},e.next=3,we(je,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object(oe.a)(ie.a.mark((function e(t,n){var r,c,a;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:Se()},c=pe,t.length?(c+=t,c=n?"".concat(c,"&page=").concat(n-1,"&limit=").concat(10):c):c=n?"".concat(c,"?page=").concat(n-1,"&limit=").concat(10):c,e.next=5,we(c,r);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(oe.a)(ie.a.mark((function e(t){var n,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:Se()},e.next=3,we("".concat(pe,"/").concat(t),n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(){return(Ae=Object(oe.a)(ie.a.mark((function e(t){var n,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:Object(o.a)({"Content-Type":"application/json"},Se()),method:"PUT",body:JSON.stringify(t)},e.next=3,we("".concat(pe,"/").concat(t.id),n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Le(){return(Le=Object(oe.a)(ie.a.mark((function e(t){var n,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:Se(),method:"DELETE"},e.next=3,we("".concat(pe,"/").concat(t),n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function De(e){return He.apply(this,arguments)}function He(){return(He=Object(oe.a)(ie.a.mark((function e(t){var n,r;return ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:Se()},e.next=3,we("".concat(be,"/").concat(t),n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fe=n.p+"static/media/logo_icon.bc4f3ee8.svg";n(38);var Ge=function(){var e=Object(s.c)((function(e){return e.login})),t=e.email,n=e.password,c=e.isAuthError,a=Object(s.b)(),i=J()("login_form__auth_error",{active:c});return Object(r.useEffect)((function(){c&&setTimeout((function(){a(Y(!1))}),3e3)}),[c]),Object($.jsxs)("div",{className:"login",children:[Object($.jsxs)("div",{className:"login__head",children:[Object($.jsx)("div",{className:"login__icon",children:Object($.jsx)("img",{src:Fe,alt:"icon"})}),Object($.jsx)("h1",{className:"login__heading",children:"Need for drive"})]}),Object($.jsxs)("form",{className:"login_form",children:[Object($.jsx)("h2",{className:"login_form__heading",children:"\u0412\u0445\u043e\u0434"}),Object($.jsx)(te,{type:"text",inputValue:t.emailValue,setInputValue:function(e){a(function(e){return{type:l,payload:e}}(e))},label:"\u041f\u043e\u0447\u0442\u0430",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",isError:t.isEmailError,setIsError:function(e){a(X(e))}}),Object($.jsx)(te,{type:"password",inputValue:n.passwordValue,setInputValue:function(e){a(function(e){return{type:u,payload:e}}(e))},label:"\u041f\u0430\u0440\u043e\u043b\u044c",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",isError:n.isPasswordError,setIsError:function(e){a(z(e))}}),Object($.jsxs)("div",{className:"login_form__btns",children:[Object($.jsx)(ae,{}),Object($.jsx)(ce,{type:"button",title:"\u0412\u043e\u0439\u0442\u0438",onclick:function(e){e.preventDefault(),t.emailValue.length||a(X(!0)),n.passwordValue.length||a(z(!0)),t.emailValue.length&&n.passwordValue.length&&function(e,t){return Ce.apply(this,arguments)}(t.emailValue,n.passwordValue).then((function(e){e.access_token&&localStorage.setItem("access_token",e.access_token),e.refresh_token&&localStorage.setItem("refresh_token",e.refresh_token),a({type:h}),Re(e.access_token).then((function(e){return a(W(e.username))}))})).catch((function(e){401===e.httpStatus&&(console.error("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c! ",e),a(Y(!0)))}))}})]}),Object($.jsx)("div",{className:i,children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c!"})]})]})},Me=n(11),Ue=function(e,t){return{type:R,payload:{isSuccess:e,text:t}}},Ze=function(){return{type:I}};n(39);var Be=function(){var e=Object(s.c)((function(e){return e.popup})),t=e.isPopup,n=e.isSuccess,c=e.text,a=Object(s.b)(),i=J()("popup",{active:t,"popup--success":n});Object(r.useEffect)((function(){t&&setTimeout((function(){a(Ze())}),5e3)}),[t]);var o=function(){a(Ze())};return Object($.jsxs)("div",{className:i,children:[Object($.jsxs)("div",{className:"popup__info",children:[n&&Object($.jsx)("span",{className:"popup__done_icon",children:Object($.jsx)("svg",{width:"13",height:"10",viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object($.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.75 4.73828L7.16406 0.324219L7.75 0.910156L2.75 5.91016L0.425781 3.58594L1.01172 3L2.75 4.73828Z",fill:"#121212"})})}),c]}),Object($.jsx)("span",{className:"popup__close_icon",onClick:o,onKeyDown:o,role:"button",tabIndex:"0","aria-label":"close popup"})]})},Ke=n.p+"static/media/avatar.ee177700.jpg";n(40);var We=function(){var e=Object(r.useState)(""),t=Object(Me.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!1),i=Object(Me.a)(a,2),o=i[0],l=i[1],u=Object(r.useState)(0),d=Object(Me.a)(u,2),j=d[0],b=d[1],p=Object(r.useRef)(null),h=Object(s.c)((function(e){return e.user})).name,O=Object(s.b)(),f=J()("user_account__dropdown_icon",{active:o}),_=J()("user_account__dropdown_menu","dropdown_menu",{active:o}),v=function(){l((function(e){return!e}))};Object(r.useEffect)((function(){p.current=setInterval((function(){b((function(e){return e+1}))}),2e3)}),j);var x=function(){b(0),clearInterval(p.current)};return Object($.jsxs)("header",{className:"page_header",children:[Object($.jsxs)("div",{className:"page_header__search search",children:[Object($.jsx)("span",{className:"search__search_btn",children:Object($.jsx)("svg",{width:"15",height:"14",viewBox:"0 0 15 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object($.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.87336 8.80503H10.5057L14.5 12.8073L13.3073 14L9.30503 10.0057V9.37336L9.08891 9.14923C8.17639 9.93368 6.99171 10.4059 5.70297 10.4059C2.82933 10.4059 0.5 8.07662 0.5 5.20297C0.5 2.32933 2.82933 0 5.70297 0C8.57662 0 10.9059 2.32933 10.9059 5.20297C10.9059 6.49171 10.4337 7.67639 9.64923 8.58891L9.87336 8.80503ZM2.19702 5.30302C2.19702 7.29837 3.80773 8.90908 5.80308 8.90908C7.79844 8.90908 9.40914 7.29837 9.40914 5.30302C9.40914 3.30767 7.79844 1.69696 5.80308 1.69696C3.80773 1.69696 2.19702 3.30767 2.19702 5.30302Z",fill:"#CACEDB"})})}),Object($.jsx)(te,{type:"search",inputValue:n,setInputValue:c,placeholder:"\u041f\u043e\u0438\u0441\u043a ..."})]}),Object($.jsxs)("div",{className:"page_header__notifications notifications",onClick:x,onKeyDown:x,role:"button",tabIndex:"0","aria-label":"notifications count",children:[Object($.jsx)("span",{className:"notifications__icon",children:Object($.jsx)("svg",{width:"18",height:"21",viewBox:"0 0 18 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object($.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.375 9.04949V14.3727L17.5 16.502V17.5667H0.5V16.502L2.625 14.3727V9.04949C2.625 5.77038 4.35687 3.04489 7.40625 2.32093V1.59697C7.40625 0.713313 8.11812 0 9 0C9.88188 0 10.5938 0.713313 10.5938 1.59697V2.32093C13.6325 3.04489 15.375 5.78103 15.375 9.04949ZM11.2667 18.7C11.2667 19.9467 10.2467 20.9667 9 20.9667C7.742 20.9667 6.73334 19.9467 6.73334 18.7H11.2667Z",fill:"#818EA3"})})}),j>0&&Object($.jsx)("div",{className:"notifications__count",children:j})]}),Object($.jsxs)("div",{className:"page_header__user user_account",onClick:v,onKeyDown:v,role:"button",tabIndex:"0","aria-label":"dropdown menu",children:[Object($.jsx)("img",{className:"user_account__avatar",src:Ke,alt:"user_avatar"}),Object($.jsx)("span",{className:"user_account__name",children:h}),Object($.jsx)("span",{className:f}),Object($.jsx)("div",{className:_,children:Object($.jsx)("ul",{className:"dropdown_menu__list",children:Object($.jsx)("li",{className:"dropdown_menu__item",children:Object($.jsx)("a",{href:"#!",onClick:function(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),O({type:m})},children:"\u0412\u044b\u0445\u043e\u0434"})})})})]}),Object($.jsx)(Be,{})]})};n(41);var qe=function(){return Object($.jsxs)("footer",{className:"page_footer",children:[Object($.jsxs)("div",{className:"page_footer__links",children:[Object($.jsx)(B.b,{to:"/admin",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),Object($.jsx)("a",{href:"https://github.com/PVthfinder",target:"_blank",rel:"noreferrer",children:"GitHub"})]}),Object($.jsxs)("div",{className:"page_footer__copyright",children:["Copyright \xa9 ",(new Date).getFullYear()," Simbirsoft"]})]})};function Je(e){var t=e.img,n=e.path,r=e.title;return Object($.jsxs)(B.c,{exact:!0,to:n,className:"menu__item",activeClassName:"menu__active_menu_item",children:[t,r]})}Je.defaultProps={img:"",path:"",title:""};var Xe=Je;n(44);var ze=function(){return Object($.jsxs)("nav",{className:"menu",children:[Object($.jsxs)(B.b,{to:"/admin",className:"menu__head",children:[Object($.jsx)("div",{className:"menu__icon",children:Object($.jsx)("img",{src:Fe,alt:"icon"})}),Object($.jsx)("h1",{className:"menu__heading",children:"Need for drive"})]}),Object($.jsx)("div",{className:"menu__items",children:fe.map((function(e){return Object($.jsx)(Xe,{img:e.img,path:e.path,title:e.title},e.title)}))})]})};n(45);var Qe=function(){var e=Object(s.c)((function(e){return e.requestError})).errorStatus,t=Object(s.b)(),n=Object(K.g)();return Object($.jsxs)("div",{className:"error_block",children:[Object($.jsx)("span",{className:"error_block__status",children:e}),Object($.jsx)("span",{className:"error_block__desc",children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"}),Object($.jsx)("span",{className:"error_block__suggestion",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"}),Object($.jsx)(ce,{type:"button",title:"\u041d\u0430\u0437\u0430\u0434",location:"request_error",onclick:function(){t({type:_}),n.goBack()}})]})};n(46);function Ye(e){var t=e.title,n=e.chosenItem,c=e.setChosen,a=e.selectorArr,s=Object(r.useState)(!1),i=Object(Me.a)(s,2),o=i[0],l=i[1],u=function(e){c(e),l(!1)},d=J()("selector__options",{active:o}),j=J()("selector__icon",{active:o}),b=function(){l((function(e){return!e}))};return Object($.jsxs)("div",{className:"selector",children:[Object($.jsx)("div",{className:"selector__choose",children:n&&n.length>0?n:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 ".concat(t)}),Object($.jsx)("ul",{className:d,children:a&&a.map((function(e){var t;return Object($.jsx)("li",{onClick:function(){return u(e)},onKeyDown:function(){return u(e)},role:"option",tabIndex:"0","aria-selected":!1,children:e.name},null!==(t=e.id)&&void 0!==t?t:e.name)}))}),Object($.jsx)("div",{className:"selector__button",onClick:b,onKeyDown:b,role:"button",tabIndex:"0","aria-label":"dropdown selector",children:Object($.jsx)("span",{className:j})})]})}Ye.defaultProps={title:"",chosenItem:"",setChosen:null,selectorArr:[]};var $e=Ye;var et=function(){var e=Object(r.useState)(null),t=Object(Me.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(null),i=Object(Me.a)(a,2),o=i[0],l=i[1],u=Object(r.useState)(null),d=Object(Me.a)(u,2),j=d[0],b=d[1],p=Object(r.useState)(null),h=Object(Me.a)(p,2),O=h[0],m=h[1],f=Object(s.c)((function(e){return e.entities})),_=f.statuses,v=f.cars,x=f.cities,g=Object(K.h)().pathname,y=(Object(K.h)(),Object(K.g)().push);return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)("div",{className:"admin_article__filters",children:[Object($.jsx)($e,{title:"\u043f\u0435\u0440\u0438\u043e\u0434",chosenItem:n&&n.name,setChosen:function(e){c(e)},selectorArr:xe}),Object($.jsx)($e,{title:"\u043c\u043e\u0434\u0435\u043b\u044c \u043c\u0430\u0448\u0438\u043d\u044b",chosenItem:o&&o.name,setChosen:function(e){l(e)},selectorArr:v}),Object($.jsx)($e,{title:"\u0433\u043e\u0440\u043e\u0434",chosenItem:j&&j.name,setChosen:function(e){b(e)},selectorArr:x}),Object($.jsx)($e,{title:"\u0441\u0442\u0430\u0442\u0443\u0441",chosenItem:O&&O.name,setChosen:function(e){m(e)},selectorArr:_})]}),Object($.jsxs)("div",{className:"admin_article__filter_btns",children:[Object($.jsx)(ce,{type:"button",title:" \u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c",location:"admin_article_header",onclick:function(){var e=function(e){return e.forEach((function(e){null!==e.paramValue?Ne.set(e.paramName,e.paramValue):Ne.delete(e.paramName)})),Ne}([{paramName:"dateFrom[$gt]",paramValue:n&&n.dateFrom},{paramName:"carId",paramValue:o&&o.id},{paramName:"cityId",paramValue:j&&j.id},{paramName:"orderStatusId",paramValue:O&&O.id}]);y({pathname:g,search:"?".concat(e)})}}),Object($.jsx)(ce,{type:"button",title:" \u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c",location:"admin_article_header",color:"red",onclick:function(){c(null),l(null),b(null),m(null)}})]})]})},tt=function(e){return{type:g,payload:e}};n(47);function nt(e){var t=e.currentPage,n=e.itemsPerPage,c=e.length,a=Object(s.c)((function(e){return e.pagination})).pagesCount,i=Object(s.b)(),o=function(e){i(tt(e))},l=function(){i({type:E})},u=function(){i({type:N})};Object(r.useEffect)((function(){var e=Math.ceil(c/n);return i({type:y,payload:e}),function(){return i(tt(1))}}),[c]);var d=J()("current_page",{"current_page--hundreds":t>99});return a>0&&Object($.jsxs)("div",{className:"pagination",children:[Object($.jsx)("button",{type:"button",onClick:function(){return l()},children:"\xab"}),1!==t&&Object($.jsx)("button",{type:"button",onClick:function(){return o(1)},children:"1"}),t>3&&Object($.jsx)("span",{children:"..."}),t>2&&Object($.jsx)("button",{type:"button",onClick:function(){return o(t-1)},children:t-1}),Object($.jsx)("span",{className:d,children:t}),t<a-1&&Object($.jsx)("button",{type:"button",onClick:function(){return o(t+1)},children:t+1}),t<a-2&&Object($.jsx)("span",{children:"..."}),t!==a&&Object($.jsx)("button",{type:"button",onClick:function(){return o(a)},children:a}),Object($.jsx)("button",{type:"button",onClick:function(){return u()},children:"\xbb"})]})}nt.defaultProps={currentPage:0,itemsPerPage:0,length:0};var rt=nt;n(48);function ct(e){var t=e.label,n=e.name,r=e.value,c=e.isReadOnly,a=e.setCheckbox;return Object($.jsxs)("div",{className:"checkbox",children:[Object($.jsx)("input",{readOnly:c,name:n,type:"checkbox",id:n,value:r,checked:r,onChange:function(){return e=n,void(a&&a(e));var e}}),Object($.jsx)("label",{htmlFor:n,children:t})]})}ct.defaultProps={label:"",name:"",value:!1,isReadOnly:!1,setCheckbox:null};var at=ct;n(49);function st(e){var t=e.order,n=t.id,r=t.carId,c=t.cityId,a=t.pointId,s=t.dateFrom,i=t.dateTo,o=t.color,l=t.isFullTank,u=t.isNeedChildChair,d=t.isRightWheel,j=t.price,b=function(e){return new Date(e).toLocaleString("ru",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).replace(/,/g,"")};return Object($.jsxs)("div",{className:"order_item",children:[Object($.jsxs)("div",{className:"order_item__car_info",children:[Object($.jsx)("div",{className:"order_item__img",children:Object($.jsx)("img",{src:r?r.thumbnail.path.includes("data")?r.thumbnail.path:"".concat(ue).concat(r.thumbnail.path):"https://via.placeholder.com/138x63",alt:r?r.name:n})}),Object($.jsxs)("div",{className:"order_item__main_info",children:[Object($.jsxs)("div",{className:"order_item__name_and_address",children:[Object($.jsx)("span",{children:r?r.name:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})," \u0432 ",Object($.jsx)("span",{children:c?c.name:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"}),", ",a?a.address:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"]}),Object($.jsx)("div",{className:"order_item__date",children:"".concat(b(s)," - ").concat(b(i))}),Object($.jsxs)("div",{className:"order_item__color",children:["\u0426\u0432\u0435\u0442: ",Object($.jsx)("span",{children:o})]})]}),Object($.jsxs)("div",{className:"order_item__options",children:[Object($.jsx)("div",{className:"order_item__option",children:Object($.jsx)(at,{label:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a",name:"isFullTank",value:l,isReadOnly:!0})}),Object($.jsx)("div",{className:"order_item__option",children:Object($.jsx)(at,{label:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e",name:"isNeedChildChair",value:u,isReadOnly:!0})}),Object($.jsx)("div",{className:"order_item__option",children:Object($.jsx)(at,{label:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c",name:"isRightWheel",value:d,isReadOnly:!0})})]}),j&&Object($.jsxs)("div",{className:"order_item__price",children:["".concat(j.toLocaleString()," "),"\u20bd"]})]}),Object($.jsxs)(B.b,{to:"/admin/orders/".concat(n),className:"order_item__change_btn",children:[Object($.jsx)("span",{className:"order_item__change_icon"}),"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"]})]})}st.defaultProps={order:null};var it=st;n(50);var ot=function(){return Object($.jsx)("div",{className:"preloader",children:ge.map((function(e){return Object($.jsx)("span",{className:"preloader__item",style:{animationDelay:"".concat(.1*e,"s")}},e)}))})},lt=function(e){return{type:v,payload:e}},ut=function(e){return{type:x,payload:e}},dt=function(e){return{type:k,payload:e}};n(51);var jt=function(){var e=Object(s.c)((function(e){return e.orders})),t=e.orders,n=e.visibleOrders,c=Object(s.c)((function(e){return e.pagination})).currentPage,a=Object(s.b)(),i=Object(K.h)();return Object(r.useEffect)((function(){De("car").then((function(e){return a((t=e.data,{type:T,payload:t}));var t})),De(he).then((function(e){return a(dt(e.data))})),De("city").then((function(e){return a((t=e.data,{type:P,payload:t}));var t}))}),[]),Object(r.useEffect)((function(){return ke(i.search).then((function(e){return e?a(lt(e.data)):[]})).catch((function(e){var t;e.httpStatus&&a((t=e.httpStatus,{type:f,payload:t}))})),ke(i.search,1).then((function(e){return e?a(ut(e.data)):[]})),function(){a(lt(null)),a(ut(null))}}),[i.search]),Object(r.useEffect)((function(){return ke(i.search,c).then((function(e){return e?a(ut(e.data)):[]})),function(){return a(ut(null))}}),[c]),Object($.jsxs)($.Fragment,{children:[Object($.jsx)("header",{className:"admin_content__header",children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),Object($.jsxs)("article",{className:"admin_content__main admin_article",children:[Object($.jsx)("div",{className:"admin_article__header",children:Object($.jsx)(et,{})}),t&&n?Object($.jsx)("div",{className:"admin_article__main",children:n.length?n.map((function(e){return Object($.jsx)(it,{order:e},e.id)})):"\u041d\u0435\u0442 \u0437\u0430\u043a\u0430\u0437\u043e\u0432, \u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u044f\u044e\u0449\u0438\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c \u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432"}):Object($.jsx)(ot,{}),Object($.jsx)("div",{className:"admin_article__footer",children:Object($.jsx)(rt,{currentPage:c,itemsPerPage:10,length:t&&t.length})})]})]})},bt=function(e){return{type:w,payload:e}};n(52);var pt=function(){var e=Object(r.useState)(!1),t=Object(Me.a)(e,2),n=t[0],c=t[1],a=Object(s.c)((function(e){return e.order})).order,i=Object(s.c)((function(e){return e.entities})).statuses,o=Object(s.b)(),l=Object(K.i)();Object(r.useEffect)((function(){De(he).then((function(e){return o(dt(e.data))}))}),[]),Object(r.useEffect)((function(){Pe(l.id).then((function(e){return o(bt(e.data))}))}),[l]);var u=function(e){o(function(e){return{type:S,payload:e}}(e))};return n?Object($.jsx)(K.a,{to:"/admin/orders"}):Object($.jsxs)($.Fragment,{children:[Object($.jsx)("header",{className:"admin_content__header",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object($.jsx)("article",{className:"admin_content__main admin_article",children:a&&i.length?Object($.jsxs)("div",{className:"admin_article__main",children:[Object($.jsx)($e,{title:"\u0441\u0442\u0430\u0442\u0443\u0441",chosenItem:a.orderStatusId&&a.orderStatusId.name,setChosen:function(e){o(function(e){return{type:C,payload:e}}(e))},selectorArr:i}),Object($.jsxs)("div",{className:"order_item__options",children:[Object($.jsx)("div",{className:"order_item__option",children:Object($.jsx)(at,{label:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a",name:"isFullTank",value:a.isFullTank,setCheckbox:u})}),Object($.jsx)("div",{className:"order_item__option",children:Object($.jsx)(at,{label:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e",name:"isNeedChildChair",value:a.isNeedChildChair,setCheckbox:u})}),Object($.jsx)("div",{className:"order_item__option",children:Object($.jsx)(at,{label:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c",name:"isRightWheel",value:a.isRightWheel,setCheckbox:u})})]}),Object($.jsxs)("div",{className:"order_item__btns",children:[Object($.jsx)(ce,{type:"button",title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",color:"green",onclick:function(){(function(e){return Ae.apply(this,arguments)})(a).then((function(){return o(Ue(!0,"\u0423\u0441\u043f\u0435\u0445! \u0417\u0430\u043a\u0430\u0437 \u0438\u0437\u043c\u0435\u043d\u0435\u043d"))})).catch((function(e){return o(Ue(!1,"\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(e.httpText)))})).finally((function(){return c(!0)}))}}),Object($.jsx)(ce,{type:"button",title:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",onclick:function(){Pe(l.id).then((function(e){return o(bt(e.data))}))}}),Object($.jsx)(ce,{type:"button",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",color:"red",onclick:function(){(function(e){return Le.apply(this,arguments)})(l.id).then((function(){return o(Ue(!0,"\u0423\u0441\u043f\u0435\u0445! \u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d"))})).catch((function(e){return o(Ue(!1,"\u041e\u0448\u0438\u0431\u043a\u0430! ".concat(e.httpText)))})).finally((function(){return c(!0)}))}})]})]}):Object($.jsx)(ot,{})})]})};var ht=function(){return Object($.jsx)("div",{children:"CarsList"})};var Ot=function(){return Object($.jsx)("div",{children:"CarItem"})};n(53);var mt=function(){var e=Object(s.c)((function(e){return e.requestError})).isError;return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(ze,{}),Object($.jsxs)("div",{className:"app_content",children:[Object($.jsx)(We,{}),Object($.jsx)("main",{children:e?Object($.jsx)(Qe,{}):Object($.jsx)("section",{className:"admin_content",children:Object($.jsxs)(K.d,{children:[Object($.jsx)(K.b,{exact:!0,path:"/admin/orders",component:jt}),Object($.jsx)(K.b,{path:"/admin/orders/:id",component:pt}),Object($.jsx)(K.b,{exact:!0,path:"/admin/cars",component:ht}),Object($.jsx)(K.b,{path:"/admin/cars/:id",component:Ot})]})})}),Object($.jsx)(qe,{})]})]})};var ft=function(){var e=Object(s.c)((function(e){return e.user})).isLogged,t=Object(s.b)();return Object(r.useEffect)((function(){e||Re().then((function(e){return t(W(e.username))}))}),[]),Object($.jsx)("div",{className:"App",children:e?Object($.jsx)(B.a,{basename:"need_for_drive-admin",children:Object($.jsxs)(K.d,{children:[Object($.jsx)(K.b,{exact:!0,path:"/",children:Object($.jsx)(K.a,{to:"/admin"})}),Object($.jsx)(K.b,{path:"/admin",component:mt})]})}):Object($.jsx)(Ge,{})})};a.a.render(Object($.jsx)(s.a,{store:Z,children:Object($.jsx)(ft,{})}),document.getElementById("root"))}]),[[54,1,2]]]);
//# sourceMappingURL=main.ba340d8b.chunk.js.map